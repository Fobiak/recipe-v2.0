import{k as w,l as C,w as b,d as F,t as k,m as B,h as v,n as I,f as r,p as o,b as e,e as i,q as m,x as N,y as z,z as l,A as T,c as x,F as D,r as j,B as A,C as y,D as L,G as M,H as O,I as G,J,R as V,j as f,_ as $,K}from"./index-D55rZ9pZ.js";import{c as P}from"./convertMinute-O9slYOpP.js";const E="favorite-recipes",q=w("favorite-store",()=>{const t=C(n());function n(){try{return JSON.parse(localStorage.getItem(E)||"[]")}catch{return[]}}function a(){localStorage.setItem(E,JSON.stringify(t.value))}function c(s){return t.value.some(p=>p.id===s)}function u(s){c(s.id)||t.value.push(s)}function _(s){t.value=t.value.filter(p=>p.id!==s)}function g(s){c(s.id)?_(s.id):u(s)}return b(t,a,{deep:!0}),{favoriteRecipes:t,isFavoriteRecipe:c,addRecipe:u,removeRecipe:_,toggleFavorite:g}});function H(t){return Number.parseInt(t?.match(/<b>(\d+)\s*calories<\/b>/i)?.[1]??"0",10)}const U=["src","alt"],Y={class:"p-4 flex flex-col min-h-[160px]"},Q={class:"flex justify-between text-gray-800 text-sm"},W={class:"flex items-center gap-1"},X={class:"flex items-center gap-1"},Z={class:"text-lg font-bold truncate mt-2"},ee={class:"flex flex-wrap gap-1 mt-2 text-sm text-gray-500"},te={class:"flex justify-between items-center px-4"},se={class:"flex flex-col text-sm"},ae={class:"flex gap-1 p-1"},oe={class:"flex gap-1 p-1"},fe=F({__name:"RecipeCard",props:{recipe:{}},setup(t){const n=t,a=k(n,"recipe"),c=q(),u=J(),_=B(()=>c.isFavoriteRecipe(n.recipe.id));function g(){c.toggleFavorite(n.recipe)}function s(){u.push({name:V.RECIPE_DETAIL,params:{id:a.value.id}})}return(p,ce)=>{const d=N,R=L,S=I;return f(),v(S,{shadow:"hover",class:"w-[300px] h-[430px] flex flex-col justify-between cursor-pointer","body-style":{padding:"0px"},onClick:s},{footer:r(()=>[o("div",te,[o("div",se,[o("span",ae,[i(d,{size:20},{default:r(()=>[i(e(A))]),_:1}),m(" "+l(e(a).servings)+" порц. ",1)]),o("span",oe,[i(d,{size:20},{default:r(()=>[i(e(y))]),_:1}),m(" "+l(e(a).aggregateLikes),1)])]),i(R,{link:"",onClick:M(g,["stop"])},{default:r(()=>[i(d,{size:"20"},{default:r(()=>[(f(),v(O(e(_)?e(y):e(G))))]),_:1})]),_:1})])]),default:r(()=>[o("img",{src:e(a).image,alt:e(a).title,class:"w-full h-[180px]"},null,8,U),o("div",Y,[o("div",Q,[o("span",W,[i(d,{size:20},{default:r(()=>[i(e(z))]),_:1}),m(" "+l(e(H)(e(a).summary))+" ккал ",1)]),o("span",X,[i(d,{size:20},{default:r(()=>[i(e(T))]),_:1}),m(" "+l(e(P)(e(a).readyInMinutes)),1)])]),o("h2",Z,l(e(a).title),1),o("div",ee,[(f(!0),x(D,null,j(e(a).dishTypes?.slice(0,6),h=>(f(),x("span",{key:String(h),class:"bg-gray-200 px-2 py-1 rounded-md"},l(h),1))),128))])])]),_:1})}}}),ie={},re={class:"grid gap-3 m-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6"};function ne(t,n){return f(),x("div",re,[K(t.$slots,"default")])}const ue=$(ie,[["render",ne]]);export{ue as B,fe as _,q as u};
