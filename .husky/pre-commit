echo "üöÄ –ó–∞–ø—É—Å–∫ pre-commit..."

# ESLint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–∞–º–∏ (–±–ª–æ–∫–∏—Ä—É–µ–º –∫–æ–º–º–∏—Ç –ø—Ä–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è—Ö)
npm run lint:fix -- --max-warnings=0
if [ $? -ne 0 ]; then
  echo "‚ùå –û—à–∏–±–∫–∏ ESLint! –ö–æ–º–º–∏—Ç –æ—Ç–º–µ–Ω—ë–Ω."
  exit 1
fi

# –î–æ–±–∞–≤–ª—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
git add .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript
npm run type-check
if [ $? -ne 0 ]; then
  echo "‚ùå –û—à–∏–±–∫–∏ TypeScript! –ö–æ–º–º–∏—Ç –æ—Ç–º–µ–Ω—ë–Ω."
  exit 1
fi

echo "‚úÖ –í—Å—ë —á–∏—Å—Ç–æ! –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ –∫–æ–º–º–∏—Ç—É..."
exit 0